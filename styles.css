 /* ===========================
   Variáveis globais 
   ===========================
*/
:root {

  --color-primary: #7b61ff;
  --color-primary-hover: #6a4bff;
  --color-primary-rgb: 123, 97, 255;
  --color-accent: #ff6fbf;
  --color-accent-rgb: 255, 111, 191;

  --color-bg: #0b0b0f;
  --color-surface: #111216;
  --color-surface-2: #15151a;

  --color-muted: #9aa0a6;
  --color-text: #e6e7ea;
  --color-white: #ffffff;
  --color-border-default: rgba(255,255,255,0.06);
  --color-shadow: rgba(2,6,23,0.7);
  --color-error: #ff5964;

  --font-family-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-family-mono: ui-monospace, Menlo, Monaco, "Roboto Mono", monospace;
  --line-height-base: 1.5;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  --fs-5: 1.25rem;
  --fs-base: 16px;
  --fs-sm: 13px;
  --fs-md: 15px;
  --fs-lg: 18px;
  --fs-det: 20px;

  
  --spacer-2: 0.5rem;
  --spacer-3: 1rem;
  --spacer-gutter: 0.75rem;
  --border-radius: 0.5rem;
  --border-radius-sm: 0.375rem;
  --border-radius-cell: 0.45rem;

  /* Layout responsivo */
  --container-width-lg: 960px;
  --breakpoint-lg: 992px;
}

/* ===========================
   Reset básico e body
   ===========================
*/
* { box-sizing: border-box; }

body {
  font-family: var(--font-family-system);
  font-size: var(--fs-base);
  line-height: var(--line-height-base);
  background: linear-gradient(180deg, var(--color-bg) 0%, #07070a 100%);
  min-height: 100vh;
  color: var(--color-text);
  -webkit-font-smoothing: antialiased;

  padding-bottom: 3rem;
}

/* ===========================
   Container e grid simples
   ===========================
*/
.container {
  width: 100%;
  padding-inline: 15px;
  margin-inline: auto;
}
@media (min-width: var(--breakpoint-lg)) {
  .container { max-width: var(--container-width-lg); }
}

/* Row/Col simplificados */
.row { display:flex; flex-wrap:wrap; margin: calc(var(--spacer-gutter) * -1); }
.gy-3 { row-gap: var(--spacer-3); }
.col-lg-6 {
  flex: 0 0 100%;
  max-width:100%;
  padding: var(--spacer-gutter);
}
@media (min-width: var(--breakpoint-lg)) {
  .col-lg-6 { flex: 0 0 50%; max-width:50%; }
}

/* ==============================
   Cartões, superfícies e sombras
   ==============================
*/
.card, .result-box, .calc-box, .sarrus-wrap { border-radius: var(--border-radius); }

.card {
  background: linear-gradient(180deg, var(--color-surface) 0%, var(--color-surface-2) 100%);
  border: 1px solid var(--color-border-default);
  box-shadow: 0 8px 24px var(--color-shadow);
  color: var(--color-text);
}
.card-body { padding: 1.5rem; }

/* Caixa de resultado com leve transparência */
.result-box {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding: var(--spacer-3);
  box-shadow: 0 8px 28px rgba(2,6,23,0.65);
}

/* Caixa para saídas de cálculo/monoespaço */
.calc-box {
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  padding: var(--spacer-3);
  font-family: var(--font-family-mono);
  white-space: pre-wrap;
  overflow: auto;
  font-size: 0.95rem;
  color: var(--color-text);
}

/* ===========================
   Botões e formulários
   ===========================
*/
.btn, .form-control { border-radius: var(--border-radius-sm); }

.btn {
  display:inline-block;
  font-weight:var(--font-weight-semibold);
  color:var(--color-text);
  padding:.375rem .75rem;
  text-decoration:none;
  cursor:pointer;
  border:1px solid transparent;
  font-size:var(--fs-md);
  background:transparent;
}

/* Botão primário com gradiente e foco visual */
.btn-primary {
  color:var(--color-white);
  background: linear-gradient(90deg, var(--color-primary), var(--color-primary-hover));
  border:1px solid rgba(var(--color-primary-rgb),0.18);
  box-shadow: 0 4px 14px rgba(var(--color-primary-rgb),0.08);
}

/* Input / campo de formulário */
.form-control {
  display:block;
  width:100%;
  padding:.375rem .75rem;
  font-size:var(--fs-md);
  border:1px solid var(--color-border-default);
  background: rgba(255,255,255,0.02);
  color: var(--color-text);
}
.form-control::placeholder { color: rgba(230,231,234,0.45); }
.form-control:focus {
  outline:0;
  border-color: rgba(var(--color-primary-rgb),0.28);
  box-shadow: 0 0 0 .25rem rgba(var(--color-primary-rgb), 0.12);
}

/* ===========================
   Utilitários (helpers)
   ===========================
*/

/* --- Layout flex e helpers --- */
.d-flex { display:flex; }
.flex-column { flex-direction: column; }
.align-items-center { align-items:center; }
.align-self-center { align-self:center; }
.ms-auto { margin-left:auto; }

/* --- Espaçamento --- */
.mb-2 { margin-bottom: var(--spacer-2); } /* margem inferior pequena */
.mt-2 { margin-top: var(--spacer-2); }
.mb-3 { margin-bottom: var(--spacer-3); } /* margem inferior padrão */
.mt-3 { margin-top: var(--spacer-3); }
.p-3 { padding: var(--spacer-3); }

/* --- Gaps (para containers flex/grid) --- */
.gap-2 { gap: var(--spacer-2); }
.gap-3 { gap: var(--spacer-3); }

/* --- Tipografia / tamanhos --- */
.fs-5 { font-size: var(--fs-5); }

/* ===========================
   Componentes específicos
   ===========================
*/

/* Matrix card: entradas numéricas em grade */
.matrix-card { max-width: 980px; margin: 2rem auto; box-shadow: 0 12px 30px rgba(2,6,23,0.7); }
.matrix-input {
  width: 120px;
  text-align:center;
  font-weight: var(--font-weight-semibold);
  font-size:0.95rem;
  background: rgba(255,255,255,0.02);
  color:var(--color-text);
  border:1px solid var(--color-border-default);
}
.matrix-row { gap: var(--spacer-gutter); }

/* Grid usada para representação visual (Sarrus, etc.) */
.sarrus-wrap {
  position:relative;
  display:inline-block;
  padding: var(--spacer-2);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  box-shadow:0 8px 28px rgba(2,6,23,0.6);
  overflow:hidden;
}
.sarrus-grid {
  display:grid;
  grid-template-columns: repeat(5, 1fr);
  gap: var(--border-radius-cell);
  align-items:center;
  justify-items:center;
  padding: var(--spacer-2);
}

/* Células base e variações (duplicadas, diagonal positiva/negativa) */
.cell {
  min-width:64px;
  min-height:64px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius: var(--border-radius-cell);
  font-weight: var(--font-weight-bold);
  font-size:1rem;
  color: var(--color-text);
}
.cell.base {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.03);
  box-shadow:0 4px 12px rgba(2,6,23,0.6);
}
.cell.dup {
  background: rgba(123,97,255,0.04);
  border:1px dashed rgba(var(--color-primary-rgb),0.12);
}
.diag-pos {
  background: linear-gradient(90deg, rgba(var(--color-primary-rgb),0.12), rgba(var(--color-primary-rgb),0.03));
  border:1px solid rgba(var(--color-primary-rgb),0.18);
}
.diag-neg {
  background: linear-gradient(90deg, rgba(var(--color-accent-rgb),0.10), rgba(var(--color-accent-rgb),0.02));
  border:1px solid rgba(var(--color-accent-rgb),0.14);
}

/* Utilitário para arrows decorativos (não interativo) */
.arrow { position:absolute; pointer-events:none; }

/* ===========================
   Legend, erros e microcomponentes
   ===========================
*/
.legend-dot { width:12px; height:12px; border-radius:50%; display:inline-block; margin-right:var(--spacer-2); vertical-align:middle; }

/* Indicador de erro inline */
.text-error {
  color: var(--color-error);
  font-weight: var(--font-weight-semibold);
  font-size: var(--fs-sm);
  background: rgba(255,89,100,0.06);
  padding: .35rem .5rem;
  border-radius: .375rem;
  display: inline-block;
  border: 1px solid rgba(255,89,100,0.12);
}

/* Texto pequeno e descritivo */
.small-muted { font-size:.9rem; color: var(--color-muted); }

/* Estilização customizada para strong com destaque visual */
strong {
  display: inline-block;
  padding: .12rem .4rem;
  border-radius: .35rem;
  font-weight: var(--font-weight-bold);
  color: white;
  background: linear-gradient(90deg, rgba(var(--color-primary-rgb),0.9), rgba(var(--color-accent-rgb),0.9));
  box-shadow: 0 4px 10px rgba(var(--color-primary-rgb),0.08);
  margin-right: .25rem;
  line-height:1;
  font-size: 0.98em;
}
/* Classe para strong sem gradiente (uso em títulos) */
.strong-plain { background: transparent; color: var(--color-text); box-shadow:none; padding:0; font-weight:700; }

/* ============================
   App cards (details/summary)
   ============================
*/
.apps-grid {
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: var(--spacer-3);
  margin-top: var(--spacer-3);
}
details.app-card {
  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.04);
  border-radius: calc(var(--border-radius) - 0.1rem);
  overflow:hidden;
  transition: transform 200ms ease, box-shadow 200ms ease, border-color 200ms ease;
  box-shadow:0 8px 20px rgba(2,6,23,0.6);
  backdrop-filter: blur(6px);
}
details.app-card[open] {
  transform: translateY(-6px);
  border-color: rgba(var(--color-primary-rgb),0.22);
  box-shadow: 0 18px 40px rgba(var(--color-primary-rgb),0.06);
}

/* Sumário do card com layout flex */
summary.app-card-summary {
  list-style:none;
  display:flex;
  align-items:center;
  justify-content:space-between;
  cursor:pointer;
  padding: 1rem;
  gap: 1rem;
}
details.app-card summary::-webkit-details-marker { display:none; }

.app-card-head { display:flex; flex-direction:column; gap: .125rem; }
.app-card-head .title { font-weight: var(--font-weight-semibold); color: var(--color-text); font-size:1rem; }
.app-card-head .subtitle { font-size: .85rem; color: var(--color-muted); }

/* Badge discreto no cabeçalho do card */
.app-card-badge {
  display:inline-flex; align-items:center; gap:.5rem;
  padding:.25rem .5rem; border-radius:.5rem;
  background: linear-gradient(90deg, rgba(var(--color-accent-rgb),0.08), rgba(var(--color-primary-rgb),0.05));
  color: var(--color-text);
  font-weight: var(--font-weight-semibold);
  border:1px solid rgba(255,255,255,0.02);
}

/* Corpo do card com transição de altura */
.app-card-body {
  padding: 0 1rem 1rem 1rem;
  color: var(--color-text);
  font-size: var(--fs-md);
  line-height:1.45;
  max-height:0;
  overflow:hidden;
  transition: max-height 260ms cubic-bezier(.2,.9,.2,1), padding 200ms ease;
}
details.app-card[open] .app-card-body {
  padding-top: .75rem;
  max-height: 600px;
}
.app-note { font-size: var(--fs-sm); margin-top: 5px; color: var(--color-muted); }

/* ===========================
   Interpretações / estados
   ===========================
*/
.interpretation {
  font-size: var(--fs-md);
  font-weight: var(--font-weight-semibold);
  padding: 6px 10px;
  border-radius: 4px;
  display:inline-block;
  min-width:60px;
  line-height:1.25;
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.03);
}
.interpretation.positive {
  color: #bff6d8;
  background: linear-gradient(90deg, rgba(52,211,153,0.06), rgba(52,211,153,0.02));
  border-color: rgba(52,211,153,0.08);
}
.interpretation.negative {
  color: #ffd7dc;
  background: linear-gradient(90deg, rgba(255,89,100,0.06), rgba(255,89,100,0.02));
  border-color: rgba(255,89,100,0.08);
}
.interpretation.neutral {
  color: #cfe0ff;
  background: linear-gradient(90deg, rgba(var(--color-primary-rgb),0.06), rgba(var(--color-primary-rgb),0.02));
  border-color: rgba(var(--color-primary-rgb),0.08);
}
.interpretation.pending {
  color: var(--color-muted);
  background: rgba(255,255,255,0.01);
  border-color: rgba(255,255,255,0.02);
}